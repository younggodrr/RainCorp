# ============================================
# Magna Coders Backend Environment Configuration
# ============================================

# Server Configuration
# Port for the Express server
PORT=5000

# Environment: development, staging, or production
NODE_ENV=development

# Database (REQUIRED)
# PostgreSQL connection string
# Connection pool parameters are automatically added by src/utils/db.ts
# For manual configuration, append: ?connection_limit=20&pool_timeout=20
# - connection_limit: Max concurrent connections (default: 20 for 100+ sessions)
# - pool_timeout: Seconds to wait for connection (default: 20)
DATABASE_URL="postgresql://postgres:password@localhost:5432/magna_coders?schema=public"

# JWT Authentication (REQUIRED)
# Secret key for signing JWT tokens (min 32 characters)
# IMPORTANT: Change this in production! Must match JWT_SECRET in AI backend .env
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"

# JWT token expiration time (e.g., "7d", "24h", "30m")
JWT_EXPIRES_IN="7d"

# CORS (REQUIRED)
# Frontend URL for CORS configuration
# IMPORTANT: Update for production with your frontend domain
FRONTEND_URL="http://localhost:3000"

# AI Backend Integration (REQUIRED for Magna AI features)
# Secure API key for authenticating AI backend requests (min 32 characters)
# IMPORTANT: Change this in production! Must match BACKEND_API_KEY in AI backend .env
AI_API_KEY="your-secure-api-key-at-least-32-characters-long-change-in-production"

# URL of the Magna AI backend service
AI_BACKEND_URL="http://localhost:8000"

# Google OAuth (REQUIRED for Google sign-in)
# Get these credentials from Google Cloud Console:
# 1. Go to https://console.cloud.google.com/
# 2. Create a new project or select existing
# 3. Enable Google+ API
# 4. Create OAuth 2.0 credentials (Web application)
# 5. Add authorized redirect URIs:
#    - http://localhost:3000/api/auth/callback/google (development)
#    - https://yourdomain.com/api/auth/callback/google (production)
GOOGLE_CLIENT_ID="your-google-client-id-from-cloud-console"
GOOGLE_CLIENT_SECRET="your-google-client-secret-from-cloud-console"

# Optional: Social Media APIs (add when needed)
# GITHUB_CLIENT_ID=""
# GITHUB_CLIENT_SECRET=""
# LINKEDIN_CLIENT_ID=""
# LINKEDIN_CLIENT_SECRET=""

# Optional: Payment Gateways (add when needed)
# STRIPE_SECRET_KEY=""
# STRIPE_WEBHOOK_SECRET=""
# PAYPAL_CLIENT_ID=""
# PAYPAL_CLIENT_SECRET=""

# Optional: Email Service (add when needed)
# EMAIL_SERVICE="gmail"
# EMAIL_USER=""
# EMAIL_PASS=""

# ============================================
# Production Deployment Notes
# ============================================
# 
# 1. Change all "change-this" and "your-*" placeholder values
# 2. Use strong, randomly generated keys (min 32 characters)
# 3. Enable HTTPS/TLS for all communication
# 4. Update FRONTEND_URL to match your production domain
# 5. Set NODE_ENV="production"
# 6. Use secure secret management (AWS Secrets Manager, HashiCorp Vault, etc.)
# 7. Ensure AI_API_KEY matches BACKEND_API_KEY in AI backend
# 8. Ensure JWT_SECRET matches AI backend JWT_SECRET
# 9. Configure database connection pooling for production load
# 10. Set up proper logging, monitoring, and error tracking
