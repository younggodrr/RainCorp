# ============================================
# Magna Coders Frontend Environment Configuration
# ============================================

# API Configuration (REQUIRED)
# URL of the main backend API
# IMPORTANT: Update for production with your backend domain
NEXT_PUBLIC_API_URL=http://localhost:5000

# AI Backend Configuration (REQUIRED for Magna AI features)
# URL of the Magna AI backend service
# IMPORTANT: Update for production with your AI backend domain
NEXT_PUBLIC_AI_BACKEND_URL=http://localhost:8000

# Environment
# Environment: development, staging, or production
NODE_ENV=development

# ============================================
# NextAuth Configuration (REQUIRED for Google OAuth)
# ============================================

# NextAuth URL - The canonical URL of your site
# IMPORTANT: Update for production with your frontend domain (https://)
NEXTAUTH_URL=http://localhost:3000

# NextAuth Secret - Used to encrypt JWT tokens and sessions
# IMPORTANT: Generate a secure secret using: openssl rand -base64 32
# NEVER commit the actual secret to version control
NEXTAUTH_SECRET=your-nextauth-secret-here

# ============================================
# Google OAuth Configuration (REQUIRED for Google sign-in)
# ============================================

# Google OAuth Client ID from Google Cloud Console
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id-here

# Google OAuth Client Secret from Google Cloud Console
# IMPORTANT: Keep this secret secure, never commit to version control
GOOGLE_CLIENT_SECRET=your-google-client-secret-here

# ============================================
# Production Deployment Notes
# ============================================
# 
# 1. Update NEXT_PUBLIC_API_URL to your production backend URL (https://)
# 2. Update NEXT_PUBLIC_AI_BACKEND_URL to your production AI backend URL (https://)
# 3. Update NEXTAUTH_URL to your production frontend URL (https://)
# 4. Generate a new NEXTAUTH_SECRET for production (openssl rand -base64 32)
# 5. Configure Google OAuth credentials for production domain in Google Cloud Console
# 6. Set NODE_ENV="production"
# 7. Ensure HTTPS is enabled for all API communication
# 8. Configure proper CORS settings in backend services
# 9. Test all API endpoints are accessible from frontend domain
# 10. Verify authentication flow works end-to-end
# 11. Enable production optimizations in next.config.js
#
# ============================================
# HTTPS and Security Requirements (CRITICAL)
# ============================================
#
# OAuth Security Requirements:
# - NEXTAUTH_URL MUST use https:// in production (not http://)
# - All OAuth redirect URIs MUST use https:// in Google Cloud Console
# - Backend API URL MUST use https:// for secure token transmission
# - AI Backend URL MUST use https:// for secure communication
#
# Cookie Security (automatically enforced in production):
# - httpOnly=true: Prevents JavaScript access to cookies (XSS protection)
# - secure=true: Requires HTTPS (enabled automatically in production)
# - sameSite='lax': Prevents CSRF attacks while allowing OAuth redirects
# - maxAge=7 days: Matches JWT access token expiration
#
# Security Headers (automatically added in production):
# - Strict-Transport-Security: Forces HTTPS for 1 year
# - X-Frame-Options: DENY (prevents clickjacking)
# - X-Content-Type-Options: nosniff (prevents MIME sniffing)
# - Referrer-Policy: origin-when-cross-origin
#
# HTTPS Enforcement Checklist:
# ✓ Configure SSL/TLS certificate for your domain
# ✓ Update NEXTAUTH_URL to https://your-domain.com
# ✓ Update NEXT_PUBLIC_API_URL to https://api.your-domain.com
# ✓ Update NEXT_PUBLIC_AI_BACKEND_URL to https://ai.your-domain.com
# ✓ Update Google OAuth redirect URIs in Google Cloud Console
# ✓ Test OAuth flow end-to-end with HTTPS
# ✓ Verify HSTS header is present in production responses
# ✓ Verify cookies have secure=true flag in production
#
